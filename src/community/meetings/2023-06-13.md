# 13 June 2023

In this meeting we asked participants to share their experiences exploring the version control, reproducibility, and testing exercises in our [example repository](https://github.com/rrcop/example-testing-and-reproducibility).

This repository serves an introduction to testing models and ensuring that their outputs are reproducible.
It contains a simple stochastic model that draws samples from a normal distribution, and some tests that check whether the model outputs are consistent with our expectations.

## Reproducibility and stochasticity

Seeds, multiple RNGs, are other packages or libraries using their own RNGs or seeds, what happens if you run the model twice with the same seed?
Do you include the seed in your published code?
How to test code that won't always pass?

## What is a reproducible environment?

Do we need to start from scratch with a fresh Docker instance?
We want to avoid "well, it runs on my machine" experiences.

## Writing test cases

These can scale from unit tests to integration tests.
Write multiple tests, each acts as a slice of "Swiss cheese", and many imperfect tests can provide a high degree of confidence in our code.

```admonish tip
Write a test case **every time you find a bug:** ensure that the test case finds the bug, then fix the bug, then ensure that the test case passes.
```

## GitHub Actions

Multiple participants reported some difficulties in setting up [GitHub actions](https://docs.github.com/en/actions/learn-github-actions) and knowing how to adapt available templates to their needs.
See the following examples:

-  [Python starter workflow](https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-python); and
- [GitHub Actions for R](https://github.com/r-lib/actions).

We will aim to provide a GitHub action workflow for each model, and add comments to explain how to adapt these templates.

```admonish warning
One downside of using GitHub Actions is the limited computation time of [2,000 minutes per month](https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions).
This may not be suitable for large agent-based models and other long-running tasks.
```
